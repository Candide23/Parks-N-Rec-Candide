{"ast":null,"code":"var _jsxFileName = \"/Users/cham/Documents/Parks-N-Rec/src/main/ui/src/pages/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport registerstyle from \"./Register.module.css\";\nimport basestyle from \"../Base.module.css\";\nimport axios from \"axios\";\nimport { useNavigate, NavLink } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [formErrors, setFormErrors] = useState({});\n  const [isSubmit, setIsSubmit] = useState(false);\n  const [user, setUserDetails] = useState({\n    email: \"\",\n    password: \"\",\n    veryPassword: \"\"\n  });\n\n  const changeHandler = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserDetails({ ...user,\n      [name]: value\n    });\n  };\n\n  const validateForm = values => {\n    const error = {};\n    const regex = /^[^\\s+@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;\n\n    if (!values.email) {\n      error.email = \"Email is required\";\n    } else if (!regex.test(values.email)) {\n      error.email = \"This is not a valid email format!\";\n    }\n\n    if (!values.password) {\n      error.password = \"Password is required\";\n    } else if (values.password.length < 4) {\n      error.password = \"Password must be more than 4 characters\";\n    } else if (values.password.length > 10) {\n      error.password = \"Password cannot exceed more than 10 characters\";\n    }\n\n    if (!values.veryPassword) {\n      error.veryPassword = \"Confirm Password is required\";\n    } else if (values.veryPassword !== values.password) {\n      error.veryPassword = \"Confirm password and password should be same\";\n    }\n\n    return error;\n  };\n\n  const signupHandler = e => {\n    e.preventDefault();\n    setFormErrors(validateForm(user));\n    setIsSubmit(true); // if (!formErrors) {\n    //   setIsSubmit(true);\n    // }\n  };\n\n  useEffect(() => {\n    if (Object.keys(formErrors).length === 0 && isSubmit) {\n      console.log(user);\n      axios.post(\"http://localhost:9002/signup/\", user).then(res => {\n        alert(res.data.message);\n        navigate(\"/login\", {\n          replace: true\n        });\n      });\n    }\n  }, [formErrors]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: basestyle.register,\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Create your account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: basestyle.error,\n          children: formErrors.lname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          id: \"email\",\n          placeholder: \"Email\",\n          onChange: changeHandler,\n          value: user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: basestyle.error,\n          children: formErrors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          id: \"password\",\n          placeholder: \"Password\",\n          onChange: changeHandler,\n          value: user.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: basestyle.error,\n          children: formErrors.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"veryPassword\",\n          id: \"veryPassword\",\n          placeholder: \"Confirm Password\",\n          onChange: changeHandler,\n          value: user.veryPassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: basestyle.error,\n          children: formErrors.veryPassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: basestyle.button_common,\n          onClick: signupHandler,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/login\",\n        children: \"Already registered? Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Register, \"m9nL4iuSYAcUpirA05phn8CTFHc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useEffect","useState","registerstyle","basestyle","axios","useNavigate","NavLink","Register","navigate","formErrors","setFormErrors","isSubmit","setIsSubmit","user","setUserDetails","email","password","veryPassword","changeHandler","e","name","value","target","validateForm","values","error","regex","test","length","signupHandler","preventDefault","Object","keys","console","log","post","then","res","alert","data","message","replace","register","lname","button_common"],"sources":["/Users/cham/Documents/Parks-N-Rec/src/main/ui/src/pages/Register.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport registerstyle from \"./Register.module.css\";\nimport basestyle from \"../Base.module.css\";\nimport axios from \"axios\";\n\nimport { useNavigate, NavLink } from \"react-router-dom\";\nconst Register = () => {\n  const navigate = useNavigate();\n\n  const [formErrors, setFormErrors] = useState({});\n  const [isSubmit, setIsSubmit] = useState(false);\n  const [user, setUserDetails] = useState({\n    email: \"\",\n    password: \"\",\n    veryPassword: \"\",\n  });\n\n  const changeHandler = (e) => {\n    const { name, value } = e.target;\n    setUserDetails({\n      ...user,\n      [name]: value,\n    });\n  };\n\n  const validateForm = (values) => {\n    const error = {};\n    const regex = /^[^\\s+@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;\n\n    if (!values.email) {\n      error.email = \"Email is required\";\n    } else if (!regex.test(values.email)) {\n      error.email = \"This is not a valid email format!\";\n    }\n    if (!values.password) {\n      error.password = \"Password is required\";\n    } else if (values.password.length < 4) {\n      error.password = \"Password must be more than 4 characters\";\n    } else if (values.password.length > 10) {\n      error.password = \"Password cannot exceed more than 10 characters\";\n    }\n    if (!values.veryPassword) {\n      error.veryPassword = \"Confirm Password is required\";\n    } else if (values.veryPassword !== values.password) {\n      error.veryPassword = \"Confirm password and password should be same\";\n    }\n    return error;\n  };\n  const signupHandler = (e) => {\n    e.preventDefault();\n    setFormErrors(validateForm(user));\n    setIsSubmit(true);\n    // if (!formErrors) {\n    //   setIsSubmit(true);\n    // }\n  };\n\n  useEffect(() => {\n    if (Object.keys(formErrors).length === 0 && isSubmit) {\n      console.log(user);\n      axios.post(\"http://localhost:9002/signup/\", user).then((res) => {\n        alert(res.data.message);\n        navigate(\"/login\", { replace: true });\n      });\n    }\n  }, [formErrors]);\n  return (\n    <>\n      <div className={basestyle.register}>\n        <form>\n          <h1>Create your account</h1>\n\n\n          <p className={basestyle.error}>{formErrors.lname}</p>\n          <input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"Email\"\n            onChange={changeHandler}\n            value={user.email}\n          />\n          <p className={basestyle.error}>{formErrors.email}</p>\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"Password\"\n            onChange={changeHandler}\n            value={user.password}\n          />\n          <p className={basestyle.error}>{formErrors.password}</p>\n          <input\n            type=\"password\"\n            name=\"veryPassword\"\n            id=\"veryPassword\"\n            placeholder=\"Confirm Password\"\n            onChange={changeHandler}\n            value={user.veryPassword}\n          />\n          <p className={basestyle.error}>{formErrors.veryPassword}</p>\n          <button className={basestyle.button_common} onClick={signupHandler}>\n            Register\n          </button>\n        </form>\n        <NavLink to=\"/login\">Already registered? Login</NavLink>\n      </div>\n    </>\n  );\n};\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module"}